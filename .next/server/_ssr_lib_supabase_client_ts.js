"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_supabase_client_ts";
exports.ids = ["_ssr_lib_supabase_client_ts"];
exports.modules = {

/***/ "(ssr)/./lib/supabase/client.ts":
/*!********************************!*\
  !*** ./lib/supabase/client.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   getSupabaseBrowserClient: () => (/* binding */ getSupabaseBrowserClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(ssr)/./node_modules/.pnpm/@supabase+supabase-js@2.78.0/node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/logger */ \"(ssr)/./lib/logger.ts\");\n\n\nlet client = null;\n/**\r\n * getSupabaseBrowserClient\r\n * - Browser-safe singleton wrapper around @supabase/supabase-js createClient\r\n * - Use this from client components that need supabase (realtime, auth, storage)\r\n */ function getSupabaseBrowserClient() {\n    if (client) return client;\n    const supabaseUrl = \"https://bjykgoucgfdvxteikcho.supabase.co\";\n    const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqeWtnb3VjZ2Zkdnh0ZWlrY2hvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNDIwOTUsImV4cCI6MjA3NTkxODA5NX0.9JxCjKQMP4vwcx4cxYojTeeUUMNup-w6SZTi9bk_zMs\";\n    if (!supabaseUrl || !supabaseAnonKey) {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Supabase environment variables are not configured\", undefined, {\n            hasUrl: !!supabaseUrl,\n            hasKey: !!supabaseAnonKey\n        });\n        throw new Error(\"NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are required for the browser client\");\n    }\n    client = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(supabaseUrl, supabaseAnonKey, {\n        auth: {\n            persistSession: true,\n            autoRefreshToken: true,\n            detectSessionInUrl: true,\n            storageKey: \"nino360-auth\",\n            flowType: \"pkce\"\n        },\n        global: {\n            fetch: async (url, options)=>{\n                try {\n                    return await fetch(url, options);\n                } catch (err) {\n                    console.error(\"Supabase fetch error:\", err);\n                    return new Response(JSON.stringify({\n                        error: \"Network error\"\n                    }), {\n                        status: 500,\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                }\n            }\n        }\n    });\n    // safe no-op if not available\n    try {\n        client.auth.onAuthStateChange?.((event, session)=>{\n            // lightweight debugging\n            console.log(\"[supabase] auth change\", event, !!session);\n        });\n    } catch (e) {\n    // ignore in environments where auth listeners fail\n    }\n    return client;\n}\n// keep a small alias for existing code that used `createClient()`\nfunction createClient() {\n    return getSupabaseBrowserClient();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3VwYWJhc2UvY2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEY7QUFDdkQ7QUFFckMsSUFBSUcsU0FBZ0M7QUFFcEM7Ozs7Q0FJQyxHQUNNLFNBQVNDO0lBQ2QsSUFBSUQsUUFBUSxPQUFPQTtJQUVuQixNQUFNRSxjQUFjQywwQ0FBb0M7SUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7SUFFakUsSUFBSSxDQUFDRCxlQUFlLENBQUNJLGlCQUFpQjtRQUNwQ1AsK0NBQU1BLENBQUNTLEtBQUssQ0FBQyxxREFBcURDLFdBQVc7WUFDM0VDLFFBQVEsQ0FBQyxDQUFDUjtZQUNWUyxRQUFRLENBQUMsQ0FBQ0w7UUFDWjtRQUNBLE1BQU0sSUFBSU0sTUFBTTtJQUNsQjtJQUVBWixTQUFTRixtRUFBb0JBLENBQUNJLGFBQWFJLGlCQUFpQjtRQUMxRE8sTUFBTTtZQUNKQyxnQkFBZ0I7WUFDaEJDLGtCQUFrQjtZQUNsQkMsb0JBQW9CO1lBQ3BCQyxZQUFZO1lBQ1pDLFVBQVU7UUFDWjtRQUNBQyxRQUFRO1lBQ05DLE9BQU8sT0FBT0MsS0FBdUJDO2dCQUNuQyxJQUFJO29CQUNGLE9BQU8sTUFBTUYsTUFBTUMsS0FBS0M7Z0JBQzFCLEVBQUUsT0FBT0MsS0FBSztvQkFDWkMsUUFBUWhCLEtBQUssQ0FBQyx5QkFBeUJlO29CQUN2QyxPQUFPLElBQUlFLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQzt3QkFBRW5CLE9BQU87b0JBQWdCLElBQUk7d0JBQUVvQixRQUFRO3dCQUFLQyxTQUFTOzRCQUFFLGdCQUFnQjt3QkFBbUI7b0JBQUU7Z0JBQ2pJO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsOEJBQThCO0lBQzlCLElBQUk7UUFDRjdCLE9BQU9hLElBQUksQ0FBQ2lCLGlCQUFpQixHQUFHLENBQUNDLE9BQVlDO1lBQzNDLHdCQUF3QjtZQUN4QlIsUUFBUVMsR0FBRyxDQUFDLDBCQUEwQkYsT0FBTyxDQUFDLENBQUNDO1FBQ2pEO0lBQ0YsRUFBRSxPQUFPRSxHQUFHO0lBQ1YsbURBQW1EO0lBQ3JEO0lBRUEsT0FBT2xDO0FBQ1Q7QUFFQSxrRUFBa0U7QUFDM0QsU0FBU0g7SUFDZCxPQUFPSTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlubzM2MC1jb250YWN0cy12MC8uL2xpYi9zdXBhYmFzZS9jbGllbnQudHM/NWFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgYXMgY3JlYXRlU3VwYWJhc2VDbGllbnQsIFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiXHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJAL2xpYi9sb2dnZXJcIlxyXG5cclxubGV0IGNsaWVudDogU3VwYWJhc2VDbGllbnQgfCBudWxsID0gbnVsbFxyXG5cclxuLyoqXHJcbiAqIGdldFN1cGFiYXNlQnJvd3NlckNsaWVudFxyXG4gKiAtIEJyb3dzZXItc2FmZSBzaW5nbGV0b24gd3JhcHBlciBhcm91bmQgQHN1cGFiYXNlL3N1cGFiYXNlLWpzIGNyZWF0ZUNsaWVudFxyXG4gKiAtIFVzZSB0aGlzIGZyb20gY2xpZW50IGNvbXBvbmVudHMgdGhhdCBuZWVkIHN1cGFiYXNlIChyZWFsdGltZSwgYXV0aCwgc3RvcmFnZSlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQoKTogU3VwYWJhc2VDbGllbnQge1xyXG4gIGlmIChjbGllbnQpIHJldHVybiBjbGllbnRcclxuXHJcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcclxuICBjb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxyXG5cclxuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcclxuICAgIGxvZ2dlci5lcnJvcihcIlN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgbm90IGNvbmZpZ3VyZWRcIiwgdW5kZWZpbmVkLCB7XHJcbiAgICAgIGhhc1VybDogISFzdXBhYmFzZVVybCxcclxuICAgICAgaGFzS2V5OiAhIXN1cGFiYXNlQW5vbktleSxcclxuICAgIH0pXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGFyZSByZXF1aXJlZCBmb3IgdGhlIGJyb3dzZXIgY2xpZW50XCIpXHJcbiAgfVxyXG5cclxuICBjbGllbnQgPSBjcmVhdGVTdXBhYmFzZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5LCB7XHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxyXG4gICAgICBhdXRvUmVmcmVzaFRva2VuOiB0cnVlLFxyXG4gICAgICBkZXRlY3RTZXNzaW9uSW5Vcmw6IHRydWUsXHJcbiAgICAgIHN0b3JhZ2VLZXk6IFwibmlubzM2MC1hdXRoXCIsXHJcbiAgICAgIGZsb3dUeXBlOiBcInBrY2VcIixcclxuICAgIH0sXHJcbiAgICBnbG9iYWw6IHtcclxuICAgICAgZmV0Y2g6IGFzeW5jICh1cmw6IHN0cmluZyB8IFJlcXVlc3QsIG9wdGlvbnM/OiBSZXF1ZXN0SW5pdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlN1cGFiYXNlIGZldGNoIGVycm9yOlwiLCBlcnIpXHJcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IFwiTmV0d29yayBlcnJvclwiIH0pLCB7IHN0YXR1czogNTAwLCBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0gfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pXHJcblxyXG4gIC8vIHNhZmUgbm8tb3AgaWYgbm90IGF2YWlsYWJsZVxyXG4gIHRyeSB7XHJcbiAgICBjbGllbnQuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZT8uKChldmVudDogYW55LCBzZXNzaW9uOiBhbnkpID0+IHtcclxuICAgICAgLy8gbGlnaHR3ZWlnaHQgZGVidWdnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW3N1cGFiYXNlXSBhdXRoIGNoYW5nZVwiLCBldmVudCwgISFzZXNzaW9uKVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBpZ25vcmUgaW4gZW52aXJvbm1lbnRzIHdoZXJlIGF1dGggbGlzdGVuZXJzIGZhaWxcclxuICB9XHJcblxyXG4gIHJldHVybiBjbGllbnRcclxufVxyXG5cclxuLy8ga2VlcCBhIHNtYWxsIGFsaWFzIGZvciBleGlzdGluZyBjb2RlIHRoYXQgdXNlZCBgY3JlYXRlQ2xpZW50KClgXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnQoKSB7XHJcbiAgcmV0dXJuIGdldFN1cGFiYXNlQnJvd3NlckNsaWVudCgpXHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNyZWF0ZVN1cGFiYXNlQ2xpZW50IiwibG9nZ2VyIiwiY2xpZW50IiwiZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJlcnJvciIsInVuZGVmaW5lZCIsImhhc1VybCIsImhhc0tleSIsIkVycm9yIiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIiwiYXV0b1JlZnJlc2hUb2tlbiIsImRldGVjdFNlc3Npb25JblVybCIsInN0b3JhZ2VLZXkiLCJmbG93VHlwZSIsImdsb2JhbCIsImZldGNoIiwidXJsIiwib3B0aW9ucyIsImVyciIsImNvbnNvbGUiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJoZWFkZXJzIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJldmVudCIsInNlc3Npb24iLCJsb2ciLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/supabase/client.ts\n");

/***/ })

};
;